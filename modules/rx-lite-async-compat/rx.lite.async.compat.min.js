/* Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.*/
(function(a){function b(a){return a&&a.Object===Object?a:null}var c={"function":!0,object:!0},d=c[typeof exports]&&exports&&!exports.nodeType?exports:null,e=c[typeof module]&&module&&!module.nodeType?module:null,f=b(d&&e&&"object"==typeof global&&global),g=b(c[typeof self]&&self),h=b(c[typeof window]&&window),i=(e&&e.exports===d?d:null,b(c[typeof this]&&this)),j=f||h!==(i&&i.window)&&h||g||i||Function("return this")();"function"==typeof define&&define.amd?define(["./rx.lite.compat"],function(b,c){return a(j,c,b)}):"object"==typeof module&&module&&module.exports===d?module.exports=a(j,module.exports,require("rx-lite-compat")):j.Rx=a(j,{},j.Rx)}).call(this,function(a,b,c,d){function e(a){return a?l.isObservable(a)?a:q(a)?l.fromPromise(a):j(a)||i(a)?u.call(this,a):r(a)?h.call(this,a):t(a)||s(a)?f.call(this,a):k(a)?g.call(this,a):a:a}function f(a){return l.from(a).concatMap(function(a){return l.isObservable(a)||k(a)?e.call(null,a):c.Observable.just(a)}).toArray()}function g(a){function b(a,b){c[b]=d,g.push(a.map(function(a){c[b]=a}))}for(var c=new a.constructor,f=Object.keys(a),g=[],h=0,i=f.length;i>h;h++){var j=f[h],k=e.call(this,a[j]);k&&l.isObservable(k)?b(k,j):c[j]=a[j]}return l.forkJoin.apply(l,g).map(function(){return c})}function h(a){var b=this;return new o(function(c){a.call(b,function(){var a=arguments[0],b=arguments[1];if(a)return c.onError(a);if(arguments.length>2){for(var d=[],e=1,f=arguments.length;f>e;e++)d.push(arguments[e]);b=d}c.onNext(b),c.onCompleted()})})}function i(a){return r(a.next)&&r(a["throw"])}function j(a){var b=a.constructor;return b?"GeneratorFunction"===b.name||"GeneratorFunction"===b.displayName?!0:i(b.prototype):!1}function k(a){return Object==a.constructor}var l=c.Observable,m=l.fromPromise,n=l.throwError,o=c.AnonymousObservable,p=(c.ObservableBase,c.AsyncSubject,c.Disposable.create,c.CompositeDisposable),q=(c.Scheduler.immediate,c.Scheduler["default"],c.internals.inherits,c.Scheduler.isScheduler,c.helpers.isPromise),r=c.helpers.isFunction,s=c.helpers.isIterable,t=c.helpers.isArrayLike;l.wrap=function(a){function b(){return l.spawn.call(this,a.apply(this,arguments))}return b.__generatorFunction__=a,b};var u=l.spawn=function(){for(var a=arguments[0],b=this,c=[],d=1,f=arguments.length;f>d;d++)c.push(arguments[d]);return new o(function(d){function f(b){var c=tryCatch(a.next).call(a,b);return c===errorObj?d.onError(c.e):void h(c)}function g(b){var c=tryCatch(a.next).call(a,b);return c===errorObj?d.onError(c.e):void h(c)}function h(a){if(a.done)return d.onNext(a.value),void d.onCompleted();var c=(e.call(b,a.value),null),h=!1;l.isObservable(c)?i.add(c.subscribe(function(a){h=!0,c=a},g,function(){h&&f(c)})):g(new TypeError("type not supported"))}var i=new p;return r(a)&&(a=a.apply(b,c)),a&&r(a.next)?(f(),i):(d.onNext(a),d.onCompleted())})};return l.start=function(a,b,c){return observableToAsync(a,b,c)()},l.startAsync=function(a){var b=tryCatch(a)();return b===errorObj?n(b.e):m(b)},c});
//# sourceMappingURL=rx.lite.async.compat.map