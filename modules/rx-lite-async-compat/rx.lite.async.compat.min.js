/* Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.*/
(function(a){var b={"function":!0,object:!0},c=b[typeof exports]&&exports&&!exports.nodeType&&exports,d=b[typeof self]&&self.Object&&self,e=b[typeof window]&&window&&window.Object&&window,f=b[typeof module]&&module&&!module.nodeType&&module,g=(f&&f.exports===c&&c,c&&f&&"object"==typeof global&&global&&global.Object&&global),h=h=g||e!==(this&&this.window)&&e||d||this;"function"==typeof define&&define.amd?define(["./rx.lite.compat"],function(b,c){return a(h,c,b)}):"object"==typeof module&&module&&module.exports===c?module.exports=a(h,module.exports,require("rx-lite-compat")):h.Rx=a(h,{},h.Rx)}).call(this,function(a,b,c,d){function e(a){return a?k.isObservable(a)?a:p(a)?k.fromPromise(a):j(a)||i(a)?r.call(this,a):q(a)?h.call(this,a):isArrayLike(a)||isIterable(a)?f.call(this,a):isObject(a)?g.call(this,a):a:a}function f(a){return k.from(a).flatMap(e).toArray()}function g(a){function b(a,b){c[b]=d,g.push(a.map(function(a){c[b]=a}))}for(var c=new a.constructor,f=Object.keys(a),g=[],h=0,i=f.length;i>h;h++){var j=f[h],l=e.call(this,a[j]);l&&k.isObservable(l)?b(l,j):c[j]=a[j]}return k.forkJoin.apply(k,g).map(function(){return c})}function h(a){var b=this;return new n(function(c){a.call(b,function(){var a=arguments[0],b=arguments[1];if(a)return c.onError(a);if(arguments.length>2){for(var d=[],e=1,f=arguments.length;f>e;e++)d.push(arguments[e]);b=d}c.onNext(b),c.onCompleted()})})}function i(a){return q(a.next)&&q(a["throw"])}function j(a){var b=a.constructor;return b?"GeneratorFunction"===b.name||"GeneratorFunction"===b.displayName?!0:i(b.prototype):!1}var k=c.Observable,l=(k.prototype,k.fromPromise),m=k.throwError,n=c.AnonymousObservable,o=(c.AsyncSubject,c.Disposable.create,c.CompositeDisposable),p=(c.Scheduler.immediate,c.Scheduler["default"],c.Scheduler.isScheduler,c.helpers.isPromise),q=c.helpers.isFunction;k.wrap=function(a){function b(){return k.spawn.call(this,a.apply(this,arguments))}return b.__generatorFunction__=a,b};var r=k.spawn=function(){for(var a=arguments[0],b=this,c=[],d=1,f=arguments.length;f>d;d++)c.push(arguments[d]);return new n(function(d){function f(b){var c=tryCatch(a.next).call(a,b);return c===errorObj?d.onError(c.e):void h(c)}function g(b){var c=tryCatch(a.next).call(a,b);return c===errorObj?d.onError(c.e):void h(c)}function h(a){if(a.done)return d.onNext(a.value),void d.onCompleted();var c=e.call(b,a.value);k.isObservable(c)?i.add(c.subscribe(f,g)):g(new TypeError("type not supported"))}var i=new o;return q(a)&&(a=a.apply(b,c)),a&&q(a.next)?(f(),i):(d.onNext(a),d.onCompleted())})};return k.start=function(a,b,c){return observableToAsync(a,b,c)()},k.startAsync=function(a){var b;try{b=a()}catch(c){return m(c)}return l(b)},c});
//# sourceMappingURL=rx.lite.async.compat.map