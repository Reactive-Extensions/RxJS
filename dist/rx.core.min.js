/* Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.*/
<<<<<<< HEAD
(function(a){function b(){try{return z.apply(this,arguments)}catch(a){return B.e=a,B}}function c(a){if(!isFunction(a))throw new TypeError("fn must be a function");return z=a,b}function d(a){throw a}function e(a,b){if(C&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(G)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+G+"\n");a.stack=f(e)}}function f(a){for(var b=a.split("\n"),c=[],d=0,e=b.length;e>d;d++){var f=b[d];g(f)||h(f)||!f||c.push(f)}return c.join("\n")}function g(a){var b=j(a);if(!b)return!1;var c=b[0],d=b[1];return c===E&&d>=F&&ja>=d}function h(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function i(){if(C)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=j(c);if(!d)return;return E=d[0],d[1]}}function j(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}var k={"function":!0,object:!0},l=k[typeof exports]&&exports&&!exports.nodeType&&exports,m=k[typeof self]&&self.Object&&self,n=k[typeof window]&&window&&window.Object&&window,o=k[typeof module]&&module&&!module.nodeType&&module,p=o&&o.exports===l&&l,q=l&&o&&"object"==typeof global&&global&&global.Object&&global,r=r=q||n!==(this&&this.window)&&n||m||this,s={internals:{},config:{Promise:r.Promise},helpers:{}},t=s.helpers.noop=function(){},u=s.helpers.defaultNow=function(){return Date.now?Date.now:function(){return+new Date}}(),v=s.helpers.defaultError=function(a){throw a},w=(s.helpers.isPromise=function(a){return!!a&&!isFunction(a.subscribe)&&isFunction(a.then)},s.helpers.defaultSubComparer=function(a,b){return a>b?1:b>a?-1:0});isFunction=s.helpers.isFunction=function(){var a=function(a){return"function"==typeof a||!1};return a(/x/)&&(a=function(a){return"function"==typeof a&&"[object Function]"==toString.call(a)}),a}();var x=s.NotImplementedError=function(a){this.message=a||"This operation is not implemented",Error.call(this)};x.prototype=Error.prototype;var y=s.NotSupportedError=function(a){this.message=a||"This operation is not supported",Error.call(this)};y.prototype=Error.prototype;var z,A=s.helpers.notImplemented=function(){throw new x},B=(s.helpers.notSupported=function(){throw new y},{e:{}});s.config.longStackSupport=!1;var C=!1,D=c(function(){throw new Error})();C=!!D.e&&!!D.e.stack;var E,F=i(),G="From previous event:",H=({}.hasOwnProperty,Array.prototype.slice,s.internals.inherits=function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}),I=(s.internals.addProperties=function(a){for(var b=[],c=1,d=arguments.length;d>c;c++)b.push(arguments[c]);for(var e=0,f=b.length;f>e;e++){var g=b[e];for(var h in g)a[h]=g[h]}},s.internals.addRef=function(a,b){return new ha(function(c){return new I(b.getDisposable(),a.subscribe(c))})},s.CompositeDisposable=function(){var a,b,c=[];if(Array.isArray(arguments[0]))c=arguments[0],b=c.length;else for(b=arguments.length,c=new Array(b),a=0;b>a;a++)c[a]=arguments[a];for(a=0;b>a;a++)if(!N(c[a]))throw new TypeError("Not a disposable");this.disposables=c,this.isDisposed=!1,this.length=c.length}),J=I.prototype;J.add=function(a){this.isDisposed?a.dispose():(this.disposables.push(a),this.length++)},J.remove=function(a){var b=!1;if(!this.isDisposed){var c=this.disposables.indexOf(a);-1!==c&&(b=!0,this.disposables.splice(c,1),this.length--,a.dispose())}return b},J.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var a=this.disposables.length,b=new Array(a),c=0;a>c;c++)b[c]=this.disposables[c];for(this.disposables=[],this.length=0,c=0;a>c;c++)b[c].dispose()}};var K=s.Disposable=function(a){this.isDisposed=!1,this.action=a||t};K.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var L=K.create=function(a){return new K(a)},M=K.empty={dispose:t},N=K.isDisposable=function(a){return a&&isFunction(a.dispose)},O=(K.checkDisposed=function(a){if(a.isDisposed)throw new ObjectDisposedError},K._fixup=function(a){return N(a)?a:M}),P=s.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};P.prototype.getDisposable=function(){return this.current},P.prototype.setDisposable=function(a){if(this.current)throw new Error("Disposable has already been assigned");var b=this.isDisposed;!b&&(this.current=a),b&&a&&a.dispose()},P.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var a=this.current;this.current=null}a&&a.dispose()};var Q=s.SerialDisposable=function(){this.isDisposed=!1,this.current=null};Q.prototype.getDisposable=function(){return this.current},Q.prototype.setDisposable=function(a){var b=this.isDisposed;if(!b){var c=this.current;this.current=a}c&&c.dispose(),b&&a&&a.dispose()},Q.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var a=this.current;this.current=null}a&&a.dispose()};var R=s.internals.ScheduledItem=function(a,b,c,d,e){this.scheduler=a,this.state=b,this.action=c,this.dueTime=d,this.comparer=e||w,this.disposable=new P};R.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},R.prototype.compareTo=function(a){return this.comparer(this.dueTime,a.dueTime)},R.prototype.isCancelled=function(){return this.disposable.isDisposed},R.prototype.invokeCore=function(){return O(this.action(this.scheduler,this.state))};var S=s.Scheduler=function(){function a(){}a.isScheduler=function(b){return b instanceof a};var b=a.prototype;return b.schedule=function(a,b){throw new x},b.scheduleFuture=function(b,c,d){var e=c;return e instanceof Date&&(e-=this.now()),e=a.normalize(e),this._scheduleFuture(b,e,d)},b._scheduleFuture=function(a,b,c){throw new x},a.now=u,a.prototype.now=u,a.normalize=function(a){return 0>a&&(a=0),a},a}(),T=S.normalize;S.isScheduler;!function(a){function b(a,b){function c(b){function d(a,b){return g?f.remove(i):h=!0,e(b,c),M}var g=!1,h=!1,i=a.schedule(b,d);h||(f.add(i),g=!0)}var d=b[0],e=b[1],f=new I;return e(d,c),f}function c(a,b){function c(b,d){function g(a,b){return h?f.remove(j):i=!0,e(b,c),M}var h=!1,i=!1,j=a.scheduleFuture(b,d,g);i||(f.add(j),h=!0)}var d=b[0],e=b[1],f=new I;return e(d,c),f}a.scheduleRecursive=function(a,c){return this.schedule([a,c],b)},a.scheduleRecursiveFuture=function(a,b,d){return this.scheduleFuture([a,d],b,c)}}(S.prototype),function(a){S.prototype.schedulePeriodic=function(a,b,c){if("undefined"==typeof r.setInterval)throw new y;b=T(b);var d=a,e=r.setInterval(function(){d=c(d)},b);return L(function(){r.clearInterval(e)})}}(S.prototype);var U,V,W=(s.internals.SchedulePeriodicRecursive=function(){function a(a,b){b(0,this._period);try{this._state=this._action(this._state)}catch(c){throw this._cancel.dispose(),c}}function b(a,b,c,d){this._scheduler=a,this._state=b,this._period=c,this._action=d}return b.prototype.start=function(){var b=new P;return this._cancel=b,b.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,a.bind(this))),b},b}(),function(a){function b(){a.call(this)}return H(b,a),b.prototype.schedule=function(a,b){return O(b(this,a))},b}(S)),X=(S.immediate=new W,function(a){function b(){for(;f.length>0;){var a=f.shift();!a.isCancelled()&&a.invoke()}}function e(){a.call(this)}var f;return H(e,a),e.prototype.schedule=function(a,e){var g=new R(this,a,e,this.now());if(f)f.push(g);else{f=[g];var h=c(b)();f=null,h===B&&d(h.e)}return g.disposable},e.prototype.scheduleRequired=function(){return!f},e}(S)),Y=S.currentThread=new X,Z=function(){var a,b=t;if(r.setTimeout)a=r.setTimeout,b=r.clearTimeout;else{if(!r.WScript)throw new y;a=function(a,b){r.WScript.Sleep(b),a()}}return{setTimeout:a,clearTimeout:b}}(),$=Z.setTimeout,_=Z.clearTimeout;!function(){function a(b){if(h)$(function(){a(b)},0);else{var e=g[b];if(e){h=!0;var f=c(e)();if(V(b),h=!1,f===B)return d(f.e)}}}function b(){if(!r.postMessage||r.importScripts)return!1;var a=!1,b=r.onmessage;return r.onmessage=function(){a=!0},r.postMessage("","*"),r.onmessage=b,a}function e(b){"string"==typeof b.data&&b.data.substring(0,k.length)===k&&a(b.data.substring(k.length))}var f=1,g={},h=!1;V=function(a){delete g[a]};var i=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),j="function"==typeof(j=q&&p&&q.setImmediate)&&!i.test(j)&&j;if(isFunction(j))U=function(b){var c=f++;return g[c]=b,j(function(){a(c)}),c};else if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))U=function(b){var c=f++;return g[c]=b,process.nextTick(function(){a(c)}),c};else if(b()){var k="ms.rx.schedule"+Math.random();r.addEventListener?r.addEventListener("message",e,!1):r.attachEvent?r.attachEvent("onmessage",e):r.onmessage=e,U=function(a){var b=f++;return g[b]=a,r.postMessage(k+currentId,"*"),b}}else if(r.MessageChannel){var l=new r.MessageChannel;l.port1.onmessage=function(b){a(b.data)},U=function(a){var b=f++;return g[b]=a,l.port2.postMessage(b),b}}else U="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(b){var c=r.document.createElement("script"),d=f++;return g[d]=b,c.onreadystatechange=function(){a(d),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},r.document.documentElement.appendChild(c),d}:function(b){var c=f++;return g[c]=b,$(function(){a(c)},0),c}}();var aa,ba=function(a){function b(){a.call(this)}return H(b,a),b.prototype.schedule=function(a,b){var c=this,d=new P,e=U(function(){!d.isDisposed&&d.setDisposable(O(b(c,a)))});return new I(d,L(function(){V(e)}))},b.prototype._scheduleFuture=function(a,b,c){var d=this,e=S.normalize(b),f=new P;if(0===e)return d.schedule(a,c);var g=$(function(){!f.isDisposed&&f.setDisposable(O(c(d,a)))},e);return new I(f,L(function(){_(g)}))},b}(S),ca=(S["default"]=S.async=new ba,s.Observer=function(){}),da=ca.create=function(a,b,c){return a||(a=t),b||(b=v),c||(c=t),new fa(a,b,c)},ea=s.internals.AbstractObserver=function(a){function b(){this.isStopped=!1}return H(b,a),b.prototype.next=A,b.prototype.error=A,b.prototype.completed=A,b.prototype.onNext=function(a){!this.isStopped&&this.next(a)},b.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.error(a))},b.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},b.prototype.dispose=function(){this.isStopped=!0},b.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.error(a),!0)},b}(ca),fa=s.AnonymousObserver=function(a){function b(b,c,d){a.call(this),this._onNext=b,this._onError=c,this._onCompleted=d}return H(b,a),b.prototype.next=function(a){this._onNext(a)},b.prototype.error=function(a){this._onError(a)},b.prototype.completed=function(){this._onCompleted()},b}(ea),ga=s.Observable=function(){function a(a,b){return function(c){var d=c.onError;return c.onError=function(b){e(b,a),d.call(c,b)},b.call(a,c)}}function b(b){if(s.config.longStackSupport&&C){var e=c(d)(new Error).e;this.stack=e.stack.substring(e.stack.indexOf("\n")+1),this._subscribe=a(this,b)}else this._subscribe=b}return aa=b.prototype,b.isObservable=function(a){return a&&isFunction(a.subscribe)},aa.subscribe=aa.forEach=function(a,b,c){return this._subscribe("object"==typeof a?a:da(a,b,c))},aa.subscribeOnNext=function(a,b){return this._subscribe(da("undefined"!=typeof b?function(c){a.call(b,c)}:a))},aa.subscribeOnError=function(a,b){return this._subscribe(da(null,"undefined"!=typeof b?function(c){a.call(b,c)}:a))},aa.subscribeOnCompleted=function(a,b){return this._subscribe(da(null,null,"undefined"!=typeof b?function(){a.call(b)}:a))},b}(),ha=s.AnonymousObservable=function(a){function b(a){return a&&isFunction(a.dispose)?a:isFunction(a)?L(a):M}function e(a,e){var f=e[0],g=e[1],h=c(g.__subscribe).call(g,f);return h!==B||f.fail(B.e)?void f.setDisposable(b(h)):d(B.e)}function f(a){var b=new ia(a),c=[b,this];return Y.scheduleRequired()?Y.schedule(c,e):e(null,c),b}function g(b,c){this.source=c,this.__subscribe=b,a.call(this,f)}return H(g,a),g}(ga),ia=(s.ObservableBase=function(a){function b(a){return a&&isFunction(a.dispose)?a:isFunction(a)?L(a):M}function e(a,e){var f=e[0],g=e[1],h=c(g.subscribeCore).call(g,f);return h!==B||f.fail(B.e)?void f.setDisposable(b(h)):d(B.e)}function f(a){var b=new ia(a),c=[b,this];return Y.scheduleRequired()?Y.schedule(c,e):e(null,c),b}function g(){a.call(this,f)}return H(g,a),g.prototype.subscribeCore=A,g}(ga),function(a){function b(b){a.call(this),this.observer=b,this.m=new P}H(b,a);var e=b.prototype;return e.next=function(a){var b=c(this.observer.onNext).call(this.observer,a);b===B&&(this.dispose(),d(b.e))},e.error=function(a){var b=c(this.observer.onError).call(this.observer,a);this.dispose(),b===B&&d(b.e)},e.completed=function(){var a=c(this.observer.onCompleted).call(this.observer);this.dispose(),a===B&&d(a.e)},e.setDisposable=function(a){this.m.setDisposable(a)},e.getDisposable=function(){return this.m.getDisposable()},e.dispose=function(){a.prototype.dispose.call(this),this.m.dispose()},b}(ea));ga.create=function(a,b){return new ha(a,b)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?(r.Rx=s,define(function(){return s})):l&&o?p?(o.exports=s).Rx=s:l.Rx=s:r.Rx=s;var ja=i()}).call(this);
=======
(function(a){function b(a){return function(){try{return a.apply(this,arguments)}catch(b){return A.e=b,A}}}function c(a){throw a}function d(a,b){if(C&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(G)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var f=c.join("\n"+G+"\n");a.stack=e(f)}}function e(a){for(var b=a.split("\n"),c=[],d=0,e=b.length;e>d;d++){var h=b[d];f(h)||g(h)||!h||c.push(h)}return c.join("\n")}function f(a){var b=i(a);if(!b)return!1;var c=b[0],d=b[1];return c===E&&d>=F&&fa>=d}function g(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function h(){if(C)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=i(c);if(!d)return;return E=d[0],d[1]}}function i(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}var j={"function":!0,object:!0},k=j[typeof exports]&&exports&&!exports.nodeType&&exports,l=j[typeof self]&&self.Object&&self,m=j[typeof window]&&window&&window.Object&&window,n=j[typeof module]&&module&&!module.nodeType&&module,o=n&&n.exports===k&&k,p=k&&n&&"object"==typeof global&&global&&global.Object&&global,q=q=p||m!==(this&&this.window)&&m||l||this,r={internals:{},config:{Promise:q.Promise},helpers:{}},s=r.helpers.noop=function(){},t=r.helpers.defaultNow=function(){return Date.now?Date.now:function(){return+new Date}}(),u=r.helpers.defaultError=function(a){throw a},v=(r.helpers.isPromise=function(a){return!!a&&!isFunction(a.subscribe)&&isFunction(a.then)},r.helpers.defaultSubComparer=function(a,b){return a>b?1:b>a?-1:0});isFunction=r.helpers.isFunction=function(){var a=function(a){return"function"==typeof a||!1};return a(/x/)&&(a=function(a){return"function"==typeof a&&"[object Function]"==toString.call(a)}),a}();var w=r.NotImplementedError=function(a){this.message=a||"This operation is not implemented",Error.call(this)};w.prototype=Error.prototype;var x=r.NotSupportedError=function(a){this.message=a||"This operation is not supported",Error.call(this)};x.prototype=Error.prototype;var y=r.helpers.notImplemented=function(){throw new w},z=r.helpers.notSupported=function(){throw new x},A={e:{}},B=r.internals.tryCatch=function(a){if(!isFunction(a))throw new TypeError("fn must be a function");return b(a)};r.config.longStackSupport=!1;var C=!1,D=B(function(){throw new Error})();C=!!D.e&&!!D.e.stack;var E,F=h(),G="From previous event:",H=({}.hasOwnProperty,Array.prototype.slice,r.internals.inherits=function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}),I=(r.internals.addProperties=function(a){for(var b=[],c=1,d=arguments.length;d>c;c++)b.push(arguments[c]);for(var e=0,f=b.length;f>e;e++){var g=b[e];for(var h in g)a[h]=g[h]}},r.internals.addRef=function(a,b){return new da(function(c){return new I(b.getDisposable(),a.subscribe(c))})},r.CompositeDisposable=function(){var a,b,c=[];if(Array.isArray(arguments[0]))c=arguments[0],b=c.length;else for(b=arguments.length,c=new Array(b),a=0;b>a;a++)c[a]=arguments[a];for(a=0;b>a;a++)if(!N(c[a]))throw new TypeError("Not a disposable");this.disposables=c,this.isDisposed=!1,this.length=c.length}),J=I.prototype;J.add=function(a){this.isDisposed?a.dispose():(this.disposables.push(a),this.length++)},J.remove=function(a){var b=!1;if(!this.isDisposed){var c=this.disposables.indexOf(a);-1!==c&&(b=!0,this.disposables.splice(c,1),this.length--,a.dispose())}return b},J.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var a=this.disposables.length,b=new Array(a),c=0;a>c;c++)b[c]=this.disposables[c];for(this.disposables=[],this.length=0,c=0;a>c;c++)b[c].dispose()}};var K=r.Disposable=function(a){this.isDisposed=!1,this.action=a||s};K.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var L=K.create=function(a){return new K(a)},M=K.empty={dispose:s},N=K.isDisposable=function(a){return a&&isFunction(a.dispose)},O=(K.checkDisposed=function(a){if(a.isDisposed)throw new ObjectDisposedError},r.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null});O.prototype.getDisposable=function(){return this.current},O.prototype.setDisposable=function(a){if(this.current)throw new Error("Disposable has already been assigned");var b=this.isDisposed;!b&&(this.current=a),b&&a&&a.dispose()},O.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var a=this.current;this.current=null}a&&a.dispose()};var P=r.SerialDisposable=function(){this.isDisposed=!1,this.current=null};P.prototype.getDisposable=function(){return this.current},P.prototype.setDisposable=function(a){var b=this.isDisposed;if(!b){var c=this.current;this.current=a}c&&c.dispose(),b&&a&&a.dispose()},P.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var a=this.current;this.current=null}a&&a.dispose()};var Q=r.internals.ScheduledItem=function(a,b,c,d,e){this.scheduler=a,this.state=b,this.action=c,this.dueTime=d,this.comparer=e||v,this.disposable=new O};Q.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},Q.prototype.compareTo=function(a){return this.comparer(this.dueTime,a.dueTime)},Q.prototype.isCancelled=function(){return this.disposable.isDisposed},Q.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var R=r.Scheduler=function(){function a(a,b,c,d){this.now=a,this._schedule=b,this._scheduleRelative=c,this._scheduleAbsolute=d}function b(a,b){return b(),M}a.isScheduler=function(b){return b instanceof a};var c=a.prototype;return c.schedule=function(a){return this._schedule(a,b)},c.scheduleWithState=function(a,b){return this._schedule(a,b)},c.scheduleWithRelative=function(a,c){return this._scheduleRelative(c,a,b)},c.scheduleWithRelativeAndState=function(a,b,c){return this._scheduleRelative(a,b,c)},c.scheduleWithAbsolute=function(a,c){return this._scheduleAbsolute(c,a,b)},c.scheduleWithAbsoluteAndState=function(a,b,c){return this._scheduleAbsolute(a,b,c)},a.now=t,a.normalize=function(a){return 0>a&&(a=0),a},a}(),S=R.normalize;R.isScheduler;!function(a){function b(a,b){function c(b){function d(a,b){return g?f.remove(i):h=!0,e(b,c),M}var g=!1,h=!1,i=a.scheduleWithState(b,d);h||(f.add(i),g=!0)}var d=b[0],e=b[1],f=new I;return e(d,c),f}function c(a,b,c){function d(b,e){function h(a,b){return i?g.remove(k):j=!0,f(b,d),M}var i=!1,j=!1,k=a[c](b,e,h);j||(g.add(k),i=!0)}var e=b[0],f=b[1],g=new I;return f(e,d),g}function d(a,b){return c(a,b,"scheduleWithRelativeAndState")}function e(a,b){return c(a,b,"scheduleWithAbsoluteAndState")}function f(a,b){a(function(c){b(a,c)})}a.scheduleRecursive=function(a){return this.scheduleRecursiveWithState(a,f)},a.scheduleRecursiveWithState=function(a,c){return this.scheduleWithState([a,c],b)},a.scheduleRecursiveWithRelative=function(a,b){return this.scheduleRecursiveWithRelativeAndState(b,a,f)},a.scheduleRecursiveWithRelativeAndState=function(a,b,c){return this._scheduleRelative([a,c],b,d)},a.scheduleRecursiveWithAbsolute=function(a,b){return this.scheduleRecursiveWithAbsoluteAndState(b,a,f)},a.scheduleRecursiveWithAbsoluteAndState=function(a,b,c){return this._scheduleAbsolute([a,c],b,e)}}(R.prototype),function(a){R.prototype.schedulePeriodic=function(a,b){return this.schedulePeriodicWithState(null,a,b)},R.prototype.schedulePeriodicWithState=function(a,b,c){if("undefined"==typeof q.setInterval)throw new x;b=S(b);var d=a,e=q.setInterval(function(){d=c(d)},b);return L(function(){q.clearInterval(e)})}}(R.prototype);var T,U,V=(r.internals.SchedulePeriodicRecursive=function(){function a(a,b){b(0,this._period);try{this._state=this._action(this._state)}catch(c){throw this._cancel.dispose(),c}}function b(a,b,c,d){this._scheduler=a,this._state=b,this._period=c,this._action=d}return b.prototype.start=function(){var b=new O;return this._cancel=b,b.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,a.bind(this))),b},b}(),R.immediate=function(){function a(a,b){return b(this,a)}return new R(t,a,z,z)}(),R.currentThread=function(){function a(){for(;d.length>0;){var a=d.shift();!a.isCancelled()&&a.invoke()}}function b(b,e){var f=new Q(this,b,e,this.now());if(d)d.push(f);else{d=[f];var g=B(a)();if(d=null,g===A)return c(g.e)}return f.disposable}var d,e=new R(t,b,z,z);return e.scheduleRequired=function(){return!d},e}()),W=function(){var a,b=s;if(q.setTimeout)a=q.setTimeout,b=q.clearTimeout;else{if(!q.WScript)throw new x;a=function(a,b){q.WScript.Sleep(b),a()}}return{setTimeout:a,clearTimeout:b}}(),X=W.setTimeout,Y=W.clearTimeout;!function(){function a(b){if(g)X(function(){a(b)},0);else{var d=f[b];if(d){g=!0;var e=B(d)();if(U(b),g=!1,e===A)return c(e.e)}}}function b(){if(!q.postMessage||q.importScripts)return!1;var a=!1,b=q.onmessage;return q.onmessage=function(){a=!0},q.postMessage("","*"),q.onmessage=b,a}function d(b){"string"==typeof b.data&&b.data.substring(0,j.length)===j&&a(b.data.substring(j.length))}var e=1,f={},g=!1;U=function(a){delete f[a]};var h=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),i="function"==typeof(i=p&&o&&p.setImmediate)&&!h.test(i)&&i;if(isFunction(i))T=function(b){var c=e++;return f[c]=b,i(function(){a(c)}),c};else if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))T=function(b){var c=e++;return f[c]=b,process.nextTick(function(){a(c)}),c};else if(b()){var j="ms.rx.schedule"+Math.random();q.addEventListener?q.addEventListener("message",d,!1):q.attachEvent?q.attachEvent("onmessage",d):q.onmessage=d,T=function(a){var b=e++;return f[b]=a,q.postMessage(j+currentId,"*"),b}}else if(q.MessageChannel){var k=new q.MessageChannel;k.port1.onmessage=function(b){a(b.data)},T=function(a){var b=e++;return f[b]=a,k.port2.postMessage(b),b}}else T="document"in q&&"onreadystatechange"in q.document.createElement("script")?function(b){var c=q.document.createElement("script"),d=e++;return f[d]=b,c.onreadystatechange=function(){a(d),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},q.document.documentElement.appendChild(c),d}:function(b){var c=e++;return f[c]=b,X(function(){a(c)},0),c}}();var Z,$=(R.timeout=R["default"]=function(){function a(a,b){var c=this,d=new O,e=T(function(){!d.isDisposed&&d.setDisposable(b(c,a))});return new I(d,L(function(){U(e)}))}function b(a,b,c){var d=this,e=R.normalize(b),f=new O;if(0===e)return d.scheduleWithState(a,c);var g=X(function(){!f.isDisposed&&f.setDisposable(c(d,a))},e);return new I(f,L(function(){Y(g)}))}function c(a,b,c){return this.scheduleWithRelativeAndState(a,b-this.now(),c)}return new R(t,a,b,c)}(),r.Observer=function(){}),_=$.create=function(a,b,c){return a||(a=s),b||(b=u),c||(c=s),new ba(a,b,c)},aa=r.internals.AbstractObserver=function(a){function b(){this.isStopped=!1}return H(b,a),b.prototype.next=y,b.prototype.error=y,b.prototype.completed=y,b.prototype.onNext=function(a){!this.isStopped&&this.next(a)},b.prototype.onError=function(a){this.isStopped||(this.isStopped=!0,this.error(a))},b.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},b.prototype.dispose=function(){this.isStopped=!0},b.prototype.fail=function(a){return this.isStopped?!1:(this.isStopped=!0,this.error(a),!0)},b}($),ba=r.AnonymousObserver=function(a){function b(b,c,d){a.call(this),this._onNext=b,this._onError=c,this._onCompleted=d}return H(b,a),b.prototype.next=function(a){this._onNext(a)},b.prototype.error=function(a){this._onError(a)},b.prototype.completed=function(){this._onCompleted()},b}(aa),ca=r.Observable=function(){function a(a,b){return function(c){var e=c.onError;return c.onError=function(b){d(b,a),e.call(c,b)},b.call(a,c)}}function b(b){if(r.config.longStackSupport&&C){var d=B(c)(new Error).e;this.stack=d.stack.substring(d.stack.indexOf("\n")+1),this._subscribe=a(this,b)}else this._subscribe=b}return Z=b.prototype,b.isObservable=function(a){return a&&isFunction(a.subscribe)},Z.subscribe=Z.forEach=function(a,b,c){return this._subscribe("object"==typeof a?a:_(a,b,c))},Z.subscribeOnNext=function(a,b){return this._subscribe(_("undefined"!=typeof b?function(c){a.call(b,c)}:a))},Z.subscribeOnError=function(a,b){return this._subscribe(_(null,"undefined"!=typeof b?function(c){a.call(b,c)}:a))},Z.subscribeOnCompleted=function(a,b){return this._subscribe(_(null,null,"undefined"!=typeof b?function(){a.call(b)}:a))},b}(),da=r.AnonymousObservable=function(a){function b(a){return a&&isFunction(a.dispose)?a:isFunction(a)?L(a):M}function d(a,d){var e=d[0],f=d[1],g=B(f.__subscribe).call(f,e);return g!==A||e.fail(A.e)?void e.setDisposable(b(g)):c(A.e)}function e(a){var b=new ea(a),c=[b,this];return V.scheduleRequired()?V.scheduleWithState(c,d):d(null,c),b}function f(b,c){this.source=c,this.__subscribe=b,a.call(this,e)}return H(f,a),f}(ca),ea=(r.ObservableBase=function(a){function b(a){return a&&isFunction(a.dispose)?a:isFunction(a)?L(a):M}function d(a,d){var e=d[0],f=d[1],g=B(f.subscribeCore).call(f,e);return g!==A||e.fail(A.e)?void e.setDisposable(b(g)):c(A.e)}function e(a){var b=new ea(a),c=[b,this];return V.scheduleRequired()?V.scheduleWithState(c,d):d(null,c),b}function f(){a.call(this,e)}return H(f,a),f.prototype.subscribeCore=y,f}(ca),function(a){function b(b){a.call(this),this.observer=b,this.m=new O}H(b,a);var d=b.prototype;return d.next=function(a){var b=B(this.observer.onNext).call(this.observer,a);b===A&&(this.dispose(),c(b.e))},d.error=function(a){var b=B(this.observer.onError).call(this.observer,a);this.dispose(),b===A&&c(b.e)},d.completed=function(){var a=B(this.observer.onCompleted).call(this.observer);this.dispose(),a===A&&c(a.e)},d.setDisposable=function(a){this.m.setDisposable(a)},d.getDisposable=function(){return this.m.getDisposable()},d.dispose=function(){a.prototype.dispose.call(this),this.m.dispose()},b}(aa));ca.create=function(a,b){return new da(a,b)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?(q.Rx=r,define(function(){return r})):k&&n?o?(n.exports=r).Rx=r:k.Rx=r:q.Rx=r;var fa=h()}).call(this);
>>>>>>> 7aa4bd9d7a34a75372a9b765a82c54dc9c830f54
//# sourceMappingURL=rx.core.map