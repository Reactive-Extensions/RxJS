{"version":3,"file":"rx.virtualtime.min.js","sources":["rx.virtualtime.js"],"names":["factory","checkGlobal","value","Object","objectTypes","function","object","freeExports","exports","nodeType","freeModule","module","freeGlobal","global","freeSelf","self","freeWindow","window","thisGlobal","this","root","Function","define","amd","Rx","require","call","exp","undefined","Scheduler","ScheduledItem","internals","SchedulePeriodicRecursive","PriorityQueue","inherits","defaultSubComparer","helpers","notImplemented","VirtualTimeScheduler","__super__","initialClock","comparer","clock","isEnabled","queue","VirtualTimeSchedulerPrototype","prototype","now","toAbsoluteTime","schedule","state","action","scheduleAbsolute","scheduleFuture","dueTime","dt","Date","toRelativeTime","scheduleRelative","add","schedulePeriodic","period","s","start","runAt","next","getNext","invoke","stop","advanceTo","time","dueToClock","ArgumentOutOfRangeError","advanceBy","sleep","length","peek","isCancelled","dequeue","run","scheduler","state1","remove","si","enqueue","disposable","HistoricalScheduler","cmp","HistoricalSchedulerProto","absolute","relative","getTime","timeSpan"],"mappings":"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"}